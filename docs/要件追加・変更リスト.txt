【ECサイト機能要件 追加・変更リスト】

バージョン: 1.0
作成日: 2025年6月20日
合意者: [ユーザー様の名前]、AI（QAサポート）
参照元: ECサイト機能要件定義書 (バージョン 1.1)

1. ログイン試行回数カウンターのリセットロジック

関連する既存要件: ユーザー認証・認可機能 / ログイン試行回数制限・アカウントロック
変更・追加内容:
ログイン試行回数カウンターは、以下のいずれかの条件でリセットされる。
ユーザーが正常にログインに成功した場合。
アカウントロックが設定された5分間の時間が経過し、ロックが自動解除された場合。
パスワードリセット（再設定）が完了した場合。
単純な時間経過のみ（例：24時間経過）ではカウンターはリセットされない。
2. カートの最大商品数オーバー時（21個目以降）の具体的な振る舞い

関連する既存要件: 購入機能 / カートに関する要件 (「カートに追加できる商品の種類は最大20個まで」)
変更・追加内容:
カートに21個目の商品を追加しようとした際、その商品はカートに追加されない。
UI上では、以下のエラーメッセージとフィードバックを表示する。
エラーメッセージ例: 「カートに追加できる商品の種類は20個までです。」
視覚的なフィードバック（例：ポップアップ、アラート、またはボタン横のテキスト表示）とともに表示する。
サーバーサイドAPIからは、適切なHTTPステータスコード（例：400 Bad Request または 403 Forbidden）と、エラーの詳細を示すJSONレスポンスを返す。
3. カートの「最終更新日時」の更新トリガー

関連する既存要件: 購入機能 / カートに関する要件 (「ログインユーザーのカート内容は、最終更新日から7日間保存される」)
変更・追加内容:
カートの「最終更新日時」は、以下のユーザー操作が行われた際に更新される。
カートへの商品追加時
カートからの商品削除時
カート内の商品数量変更時
ユーザーがログインした際（ログイン時にカートデータをロードまたはマージするため）
カート内容の表示（GETリクエストのみ）では、「最終更新日時」は更新されない。

